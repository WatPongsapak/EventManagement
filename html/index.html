{{define "body_content"}}
<script>
    function deleteAct(id) {
        if (confirm('ยืนยันที่จะลบ กิจกรรมนี้')) {
            window.location.replace("activity/del/" + id);
        }
    }

    $(function () {
        $('#example').DataTable();
    });
</script>
<div class="container">
    <a href="add_activity"><button type="button" class="btn btn-outline-dark"><span class="glyphicon glyphicon-plus"
                aria-hidden="true"></span>Add</button></a>
    <table id="example" class="display" style="width:100%">
        <thead>
            <tr>
                <th>ชื่อกิจกรรม</th>
                <th>รายะรเอียด</th>
                <th>จำนวน</th>
                <th>ปุ่ม</th>
            </tr>
        </thead>
        <tbody>
            {{$admin := .Admin}}
            {{range .Posts}}
            <tr>
                <td>{{.Name}} รุ่น{{.Round}}</td>
                <td>{{.Description}}</td>
                <td>{{if eq .Maxjoin 0}}ไม่จำกัด{{else}}{{ .Amount }}/{{.Maxjoin}}{{if eq .Maxjoin .Amount}} เต็ม{{end}}{{end}}</td>
                <td><a href="pin_activity/{{.ID}}"><button class="btn btn-primary">รายระเอียด</button></a>
                    {{ $admin}}
                    {{if $admin}}
                    <a href="edit_activity/{{.ID}}"><button class="btn btn-primary">แก้ไข</button></a>
                    <button class="btn btn-primary" onclick="deleteAct('{{.ID}}')">ลบ</button></td>
                    {{end}}
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
{{end}}